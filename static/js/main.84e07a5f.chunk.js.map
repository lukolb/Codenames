{"version":3,"sources":["routes/Rules.tsx","contexts/gameContext.tsx","components/TeamSetup.tsx","components/library/Modal.tsx","components/TeamsModal.tsx","components/TeamScore.tsx","components/ScoreBoard.tsx","components/library/Badge.tsx","components/TeamSummary.tsx","hooks/useOutsideClickListener.tsx","components/library/Menu.tsx","components/CardContextMenu.tsx","components/Card.tsx","components/CardGrid.tsx","components/Board.tsx","utils/number-helpers.ts","utils/array-helpers.ts","routes/Game.tsx","utils/string-helpers.ts","components/SpyCard.tsx","routes/SpyMaster.tsx","App.js","serviceWorker.js","index.js"],"names":["Rules","className","to","href","target","rel","src","width","alt","style","display","marginLeft","GameContext","createContext","TeamSetup","color","useContext","teams","startingTeam","setStartingTeam","addPlayer","updatePlayer","removePlayer","useState","newPlayer","setNewPlayer","currentStaringTeam","classNames","onClick","onSubmit","e","preventDefault","map","player","index","value","onChange","idx","updateExistingPlayer","type","Modal","onCloseModal","title","classname","children","TeamsModal","shuffleTeams","pickSpyMasters","teamColors","isDuetGame","TeamScore","score","scorePlayer","ScoreBoard","expanded","setExpanded","every","length","onMouseEnter","onMouseLeave","Badge","TeamSummary","getGuessedCardsAmount","totalCards","isSpyMaster","useOutsideClickListener","ref","action","current","contains","useEffect","window","addEventListener","removeEventListener","Menu","container","useRef","toggleExpand","option","onKeyPress","role","tabIndex","CardContextMenu","hideMenu","setColor","cardColors","id","setCardColor","Card","card","cardId","enlarged","setEnlargement","menuVisible","setMenuVisible","onContextMenu","onDoubleClick","CardGrid","cards","Board","max","newGame","showTeamsModal","setShowTeamsModal","toggleTeamsModal","Math","floor","random","randomise","arr","sort","randomiseCards","amount","Array","_","i","slice","Game","cardsAmount","forEach","unshift","string","charAt","toUpperCase","getScoresObject","obj","setCards","getTeamObject","setTeams","setScore","resetScores","Provider","undefined","newCards","c","newTeam","push","newValue","newArray","splice","allPlayers","reduce","players","chunkedPlayers","array","chunkAmount","size","len","out","ceil","chunkify","newTeams","filter","SpyCard","StartingColor","startingColor","cells","cell","SpyMaster","match","history","searchCardId","setSearchCardId","setCard","cardIdToDisplay","params","spyCardId","fetchCards","setCardToDisplay","a","fetch","response","json","find","htmlFor","placeholder","App","exact","path","component","Boolean","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.84e07a5f.chunk.js","sourcesContent":["import React, { FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport 'routes/Rules.scss'\n\nconst Rules: FC = () =>\n  <div className=\"Rules\">\n    <Link className=\"btn right\" to=\"/play\">Start!</Link>\n    <h1>Codenames Pictures Online </h1>\n    <p>\n          The online version of Codenames Pictures by\n      <a href=\"https://czechgames.com/en/codenames-pictures/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            czechgames\n      </a>\n    </p>\n    <h3>Intro</h3>\n    <p>\n          What are these strange symbols on the map? They code for locations where spies must contact secret agents!\n      <br />\n          Two rival spymasters know the agent in each location. They deliver coded messages telling their field\n          operatives where to go for clandestine meetings. Operatives must be clever. A decoding mistake could lead to\n          an unpleasant encounter with an enemy agent – or worse, with the assassin!\n      <br />\n          Both teams race to contact all their agents, but only one team can win.\n    </p>\n    <h2>Game rules</h2>\n    <h3>The spymasters key card</h3>\n    <p>\n          Each game has one spy master key that shows who can be found in each location.\n      <br />\n          The spymasters should choose the key card randomly, don’t let the field operatives see the key.\n      <br />\n          The key corresponds to the grid. Blue squares correspond to pictures that Blue Team\n      <br />\n          must guess (locations with blue agents). Red squares correspond to pictures that Red Team must\n      <br />\n          guess (locations with red agents). Pale squares have innocent bystanders, and the black square\n      <br />\n          hides an assassin!\n    </p>\n    <h3>Starting team</h3>\n    <p>\n          The lights on the sides of the key card indicate which team starts. The starting team\n      <br />\n          has 8 pictures to guess. The other team has 7. The starting team will give the first\n      <br />\n          clue of the game.\n    </p>\n    <h3>Game play</h3>\n    <p>\n          Spymasters take turns giving one-word clues.\n      <br />\n          The word relates to one or more pictures on the grid. The field operatives try to guess which pictures their\n          spymaster meant.\n      <br />\n          When a field operative touches a picture, the spymaster reveals who is in that location. If it is one of their\n          team’s agents, the operatives may keep guessing locations related to that one-word clue. Otherwise, it is the\n          other team’s turn. The first team to contact all their agents wins the game.\n    </p>\n    <h3>Taking turns</h3>\n    <p>\n      <strong>Teams take turns</strong>, beginning with the starting team. (The starting team is indicated by the\n          lights on the sides of the key card.)\n      <br />\n          On your team’s turn, the spymaster gives <strong>one clue</strong>, and the field operatives may make\n      <strong>multiple guesses</strong>.\n    </p>\n    <h3>Giving the clue</h3>\n    <p>\n          If you are the spymaster, your job is to think up a clue that relates to some of the pictures your team is\n          trying to guess.\n      <br />\n          Your clue consists of <strong>one word</strong> that relates to those pictures <strong>and one number</strong>\n          that tells how many of your pictures relate to that word.\n    </p>\n    <blockquote>\n      <p>\n            Example: A good clue for these two pictures might be\n        <strong><em> flying: 2</em></strong>.\n      </p>\n    </blockquote>\n    <p>\n      <img\n        src=\"/codenames-pictures/images/cards/card-29.jpg\"\n        width=\"150px\"\n        alt=\"card-example doughnut\"\n        style={{ display: 'inline-block' }}\n      />\n      <img\n        src=\"/codenames-pictures/images/cards/card-4.jpg\"\n        width=\"150px\"\n        alt=\"card-example witch\"\n        style={{ display: 'inline-block', marginLeft: '1rem' }}\n      />\n    </p>\n    <p>\n          You are allowed to give a clue for only one\n      <br />\n          picture (<strong><em>doghnut: 1</em></strong>) but it’s fun to try for two or more.\n      <br />\n          Getting four pictures with one clue is a big accomplishment.\n    </p>\n    <h3>Making contact</h3>\n    <p>\n          When the spymaster gives a clue, his or her field operatives try to figure out what it means.\n      <br />\n          They can debate it amongst themselves, but the spymaster must keep a straight face and is not allowed to\n          comment. The operatives indicate their official guess when one of them touches one of the pictures on\n      <br />\n          the table. (Online, verbal confirmation to the spymaster which card)\n      <br />\n          The spymaster reveals who is in that location by righ clicking on the tile and assigns one of the following\n          states: &quot;Red&quot;, &quot;Blue&quot;, &quot;Neutral&quot;, &quot;Game over&quot;.\n    </p>\n    <ul>\n      <li>\n            If the field operative verbally chooses a picture belonging to his or her team, the spymaster marks the\n            picture with the correct color. The operatives may continue making guesses (but they do not get another\n            clue).\n      </li>\n      <li>\n            If the field operative verbally chooses a location\n        <br />\n            with an innocent bystander, the spymaster marks it with an innocent (&quot;Neutral&quot;) state.\n        <strong>This ends the turn</strong>.\n      </li>\n      <li>\n            If the field operative chooses a picture belonging to the other team, the picture is marked by one of the\n            other team’s agent colors.\n        <br />\n            This <strong>ends the turn</strong>. (And it helps the other team)\n      </li>\n      <li>\n            If the field operative chooses the location\n        <br />\n            with the assassin, the picture is marked as assassinated (&quot;Game over&quot;).\n        <strong>This ends the game!</strong>\n        <br />\n            The team that contacted the assassin loses.\n      </li>\n    </ul>\n    <h3>Ending the Turn</h3>\n    <p>\n          Your team’s turn always has <strong>exactly one clue</strong> and <strong>one or more guesses</strong>. If the\n          operatives’ first guess is one of their team’s pictures, they may make a second guess.\n      <br />\n          If that’s correct, they may make another guess, and so on.\n    </p>\n    <p><strong>The turn ends</strong></p>\n    <ul>\n      <li>\n            if they guess a picture that’s not theirs,\n      </li>\n      <li>\n            if they choose to not guess anymore,\n      </li>\n      <li>\n            or if they have already made as many\n      </li>\n    </ul>\n    <p>\n          guesses as the number specified by the clue <strong>plus one more</strong>.<br />\n          For example, if your spymaster says <strong><em>flying: 2</em></strong>,\n          you can make as many as 3 correct guesses. This doesn’t make much sense on your first turn,\n          but later in the game it can be very useful.\n      <br />\n          For example, you might have received several clues for which you did not get all the pictures. You can guess\n          these pictures instead of or in addition to those related to the current clue.\n      <br />\n          The &quot;one more guess&quot; rule gives you a chance to catch up.\n    </p>\n    <h3>Ending the game</h3>\n    <p>\n      <strong>The game ends when one team has all their pictures covered.</strong>\n      <br />\n          That team wins. It is possible to win on the other team’s turn if\n      <br />\n          they guess your last picture.\n      <br />\n          The game can end early if a field operative touches the location with the assassin. That operative’s team\n          loses.\n    </p>\n    <h2>Online actions</h2>\n    <ul>\n      <li>\n        <strong>Zoom in:</strong> click on the tile\n      </li>\n      <li>\n        <strong>Marking a state:</strong> right click on the tile\n      </li>\n      <li>\n        <strong>Remove a marking:</strong> double click on the tile\n      </li>\n      <li>\n        <strong>Choosing a spymasters key card:</strong> click on the <strong><em>spy master</em></strong> button\n      </li>\n      <li>\n        <strong>Search for a spymaster key:</strong> click on the\n        <strong><em>Click here</em></strong> link on the spymaster page, enter the card ID and submit.\n      </li>\n    </ul>\n    <Link className=\"btn\" to=\"/play\">Start!</Link>\n  </div>\n\nexport default Rules\n","import { createContext } from 'react'\nimport { IGameContext } from 'interfaces/Game'\n\nconst GameContext = createContext<IGameContext>({} as IGameContext)\n\nexport default GameContext\n","import React, { useContext, useState, FC, FormEvent } from 'react'\nimport classNames from 'classnames'\nimport GameContext from 'contexts/gameContext'\nimport { IGameContext, TeamColor } from 'interfaces/Game'\nimport 'components/TeamSetup.scss'\n\ninterface IProps {\n  color: TeamColor\n}\n\nconst TeamSetup: FC<IProps> = ({ color }) => {\n  const {\n    teams,\n    startingTeam,\n    setStartingTeam,\n    addPlayer,\n    updatePlayer,\n    removePlayer,\n  } = useContext<IGameContext>(GameContext)\n  const [newPlayer, setNewPlayer] = useState<string>('')\n\n  const addNewPlayer = (e: FormEvent<HTMLFormElement>): void => {\n    e.preventDefault()\n    if (!newPlayer) return\n    addPlayer(color, newPlayer)\n    setNewPlayer('')\n  }\n\n  const updateExistingPlayer = (player: string, idx: number) => updatePlayer(color, player, idx)\n  const currentStaringTeam = startingTeam === color\n\n  return (\n    <div className={'TeamSetup'}>\n      <h3 className={classNames('team-title', `text-${color}`)}>\n          Team {color}\n        <button\n          className={classNames('starting-team', color, { 'active': currentStaringTeam })}\n          onClick={() => setStartingTeam(color)}\n        />\n      </h3>\n      <form onSubmit={addNewPlayer}>\n        <div className=\"players\">\n          {teams[color].map((player, index) => (\n            <div className=\"player-wrap\" key={index}>\n              <input\n                value={player}\n                onChange={({ target: { value } }) => updateExistingPlayer(value, index)}\n              />\n              <button\n                type=\"button\"\n                onClick={() => removePlayer(color, index)}\n                className=\"remove-player\">x</button>\n            </div>\n          ))}\n        </div>\n        <input\n          value={newPlayer}\n          onChange={({ target: { value } }) => setNewPlayer(value)}\n        />\n        <button type=\"submit\" className=\"btn\">Add player</button>\n      </form>\n    </div>\n  )\n}\n\nexport default TeamSetup\n","import React, { FC } from 'react'\nimport classNames from 'classnames'\nimport 'components/library/Modal.scss'\n\ninterface IProps {\n  title?: string\n  classname?: string\n  onCloseModal?: () => void\n}\n\nconst Modal: FC<IProps> = ({ onCloseModal, title, classname, children }) => {\n  return (\n    <div className=\"ModalWrapper\">\n      <div className={classNames('Modal', classname)}>\n        <button className=\"close-modal\" onClick={onCloseModal}>x</button>\n        <h3 className=\"modal-title\">{title}</h3>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default Modal\n","import React, { useContext, FC } from 'react'\nimport 'components/TeamsModal.scss'\nimport TeamSetup from 'components/TeamSetup'\nimport GameContext from 'contexts/gameContext'\nimport Modal from 'components/library/Modal'\nimport { IGameContext } from 'interfaces/Game'\n\ninterface IProps {\n  onCloseModal: () => void\n}\n\nconst TeamsModal: FC<IProps> = ({ onCloseModal }) => {\n  const { shuffleTeams, pickSpyMasters, teamColors, isDuetGame } = useContext<IGameContext>(GameContext)\n\n  return (\n    <Modal\n      title={`Setup your ${isDuetGame ? 'team': 'teams'}`}\n      classname=\"TeamsModal\"\n      onCloseModal={onCloseModal}\n    >\n      <div className=\"teams-wrapper\">\n        {teamColors.map(color => <TeamSetup color={color} key={color}/>)}\n      </div>\n      {!isDuetGame && <div className=\"button-wrapper\">\n        <button className=\"btn blue\" onClick={shuffleTeams}>Shuffle teams</button>\n        <button className=\"btn\" onClick={pickSpyMasters}>Pick spy masters</button>\n      </div>}\n    </Modal>\n  )\n}\n\nexport default TeamsModal\n","import React, { useContext, FC } from 'react'\nimport classNames from 'classnames'\nimport GameContext from 'contexts/gameContext'\nimport { TeamColor } from 'interfaces/Game'\nimport 'components/TeamScore.scss'\n\ninterface IProps {\n  color: TeamColor\n}\n\nconst TeamScore: FC<IProps> = ({ color }) => {\n  const { score, scorePlayer } = useContext(GameContext)\n\n  return (\n    <div className={'TeamScore'}>\n      <h1 className={classNames('score', `text-${color}`)}>{score[color]}</h1>\n      <button className=\"btn\" onClick={() => scorePlayer(color)}>Score</button>\n    </div>\n  )\n}\n\nexport default TeamScore\n","import React, { useState, useContext, FC } from 'react'\nimport classNames from 'classnames'\nimport TeamScore from 'components/TeamScore'\nimport GameContext from 'contexts/gameContext'\nimport { TeamColor } from 'interfaces/Game'\nimport 'components/ScoreBoard.scss'\n\nconst ScoreBoard: FC = () => {\n  const [expanded, setExpanded] = useState(false)\n  const { teams, isDuetGame, teamColors } = useContext(GameContext)\n  const teamsSetup = teamColors.every((color: TeamColor) => teams[color].length > 0)\n\n  if (!teamsSetup || isDuetGame)\n    return null\n\n  return (\n    <div\n      className={classNames('ScoreBoard', { 'expanded': expanded })}\n      onMouseEnter={() => setExpanded(true)}\n      onMouseLeave={() => setExpanded(false)}\n    >\n      <div className=\"score-wrapper\">\n        {teamColors.map((color: TeamColor) => <TeamScore color={color} key={color}/>)}\n      </div>\n    </div>\n  )\n}\n\nexport default ScoreBoard\n","import React, { FC } from 'react'\nimport classNames from 'classnames'\nimport 'components/library/Badge.scss'\n\ninterface IProps {\n  classname?: string\n}\n\nconst Badge: FC<IProps> = ({ classname, children }) =>\n  <span className={classNames('Badge', classname)}>\n    {children}\n  </span>\n\nexport default Badge\n","import React, { useContext, FC } from 'react'\nimport classNames from 'classnames'\nimport GameContext from 'contexts/gameContext'\nimport Badge from 'components/library/Badge'\nimport { TeamColor } from 'interfaces/Game'\nimport 'components/TeamSummary.scss'\n\ninterface IProps {\n  color: TeamColor\n}\n\nconst TeamSummary: FC<IProps> = ({ color }) => {\n  const { teams, getGuessedCardsAmount, startingTeam, isDuetGame } = useContext(GameContext)\n  const currentStaringTeam = startingTeam === color\n  const totalCards = isDuetGame ? 15 : currentStaringTeam ? 8 : 7\n\n  return (\n    <div className={'TeamSummary'}>\n      {!!teams[color].length &&\n        <>\n          <h3 className={classNames('team-title', `text-${color}`)}>\n            Team {color}\n            <Badge>\n              {getGuessedCardsAmount(color)}\n              {(startingTeam || isDuetGame) && <>/{totalCards}</>}\n            </Badge>\n          </h3>\n          <ul className=\"names\">\n            {teams[color].map((player: string, index: number) => {\n              const isSpyMaster = index === 0 && !isDuetGame\n              return <li key={index} className={classNames({\n                'spymaster': isSpyMaster,\n                [`text-${color}`]: isSpyMaster,\n              })}>\n                {isSpyMaster && '>'} {player}\n              </li>\n            })}\n          </ul>\n        </>}\n    </div>\n  )\n}\n\nexport default TeamSummary\n","import { RefObject, useEffect } from 'react'\n\nconst useOutsideClickListener: (ref: RefObject<HTMLElement>, action: () => void) => void = (ref, action) => {\n  const onClick = (e: MouseEvent) => {\n    if (!!ref && ref.current && !ref.current.contains(e.target as HTMLDivElement)) {\n      action()\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('mousedown', onClick)\n    return () => {\n      window.removeEventListener('mousedown', onClick)\n    }\n  }, [])\n}\n\nexport default useOutsideClickListener\n","import React, { useState, useRef, FC } from 'react'\nimport classNames from 'classnames'\nimport useOutsideClickListener from 'hooks/useOutsideClickListener'\nimport 'components/library/Menu.scss'\n\ninterface IProps {\n  children: JSX.Element[]\n}\n\nconst Menu: FC<IProps> = ({ children }) => {\n  const [expanded, setExpanded] = useState(false)\n  const container = useRef<HTMLButtonElement>(null)\n  const onOutsideClick = () => setExpanded(false)\n  const toggleExpand = () => setExpanded(!expanded)\n  useOutsideClickListener(container, onOutsideClick)\n\n  return (\n    <button\n      className={classNames('Menu', { 'expanded': expanded })}\n      onClick={toggleExpand}\n      ref={container}\n    >\n      {expanded && <div className=\"menu-content\">\n        {children.map((option: JSX.Element, index: number) =>\n          <div\n            className=\"menu-item\"\n            key={index}\n            onClick={toggleExpand}\n            onKeyPress={toggleExpand}\n            role=\"button\"\n            tabIndex={index}\n          >\n            {option}\n          </div>)}\n      </div>}\n      <div className=\"menu-trigger\">Menu</div>\n    </button>\n  )\n}\n\nexport default Menu\n","import React, { useRef, useContext, FC } from 'react'\nimport classNames from 'classnames'\nimport useOutsideClickListener from 'hooks/useOutsideClickListener'\nimport GameContext from 'contexts/gameContext'\nimport { CardColor, ICardColor, IGameContext } from 'interfaces/Game'\nimport 'components/CardContextMenu.scss'\n\ninterface IProps {\n  hideMenu: () => void\n  setColor: (color: CardColor) => void\n}\n\nconst CardContextMenu: FC<IProps> = ({ hideMenu, setColor }) => {\n  const container = useRef<HTMLDivElement>(null)\n  const { cardColors } = useContext<IGameContext>(GameContext)\n  useOutsideClickListener(container, hideMenu)\n\n  const setCardColor = (color: CardColor) => {\n    hideMenu()\n    setColor(color)\n  }\n\n  return (\n    <div className=\"CardContextMenu\" ref={container}>\n      {cardColors.map((color: ICardColor) => <button\n        key={color.id}\n        className={classNames('menu-action', color.id)}\n        onClick={() => setCardColor(color.id)}\n      >\n        {color.display}\n      </button>)}\n    </div>\n  )\n}\n\nexport default CardContextMenu\n","import React, { useContext, useState, useRef, FC, MouseEvent } from 'react'\nimport classNames from 'classnames'\nimport CardContextMenu from 'components/CardContextMenu'\nimport useOutsideClickListener from 'hooks/useOutsideClickListener'\nimport GameContext from 'contexts/gameContext'\nimport Badge from 'components/library/Badge'\nimport { CardColor, ICard, IGameContext } from 'interfaces/Game'\nimport 'components/Card.scss'\n\ninterface IProps {\n  index: number\n  card: ICard\n}\n\nconst Card: FC<IProps> = ({ index, card }) => {\n  const { setColor, isDuetGame } = useContext<IGameContext>(GameContext)\n  const { cardId, color } = card\n  const [enlarged, setEnlargement] = useState<boolean>(false)\n  const [menuVisible, setMenuVisible] = useState<boolean>(false)\n  const container = useRef<HTMLDivElement>(null)\n  useOutsideClickListener(container, () => setEnlargement(false))\n\n  const showMenu = (e: MouseEvent): void => {\n    e.preventDefault()\n    setEnlargement(false)\n    setMenuVisible(true)\n  }\n\n  const setCardColor = (color: CardColor) => setColor(card, color)\n  const resetColor = () => setCardColor('')\n\n  return (\n    <div\n      onContextMenu={showMenu}\n      className={classNames('Card', {\n        'selected': !!color,\n        [color]: !!color,\n        'duet': isDuetGame,\n      })}\n      ref={container}\n      onDoubleClick={resetColor}\n    >\n      <Badge classname=\"card-id\">{index}</Badge>\n      <button onClick={() => setEnlargement(!enlarged)} className=\"no-style\">\n        <img\n          src={`/codenames-pictures/images/cards/card-${cardId}.jpg`}\n          className={classNames('card-img', { 'enlarged': enlarged })}\n          alt={`codename card-${cardId}`}\n        />\n      </button>\n\n      {menuVisible && <CardContextMenu\n        hideMenu={() => setMenuVisible(false)}\n        setColor={setCardColor}\n      />}\n    </div>\n  )\n}\n\nexport default Card\n","import React, { useContext, FC } from 'react'\nimport Card from 'components/Card'\nimport GameContext from 'contexts/gameContext'\nimport { ICard, IGameContext } from 'interfaces/Game'\nimport 'components/CardGrid.scss'\n\nconst CardGrid: FC = () => {\n  const { cards } = useContext<IGameContext>(GameContext)\n\n  return (\n    <div className=\"CardGrid\">\n      {cards.map((card: ICard, index: number) => (\n        <Card\n          key={card.cardId}\n          card={card}\n          index={index + 1}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default CardGrid\n","import React, { useContext, useState, FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport TeamsModal from 'components/TeamsModal'\nimport ScoreBoard from 'components/ScoreBoard'\nimport TeamSummary from 'components/TeamSummary'\nimport Menu from 'components/library/Menu'\nimport GameContext from 'contexts/gameContext'\nimport CardGrid from 'components/CardGrid'\nimport { IGameContext, TeamColor } from 'interfaces/Game'\nimport { getRandomInt } from 'utils/number-helpers'\nimport 'components/Board.scss'\n\nconst Board: FC = () => {\n  const { newGame, teamColors } = useContext<IGameContext>(GameContext)\n  const [showTeamsModal, setShowTeamsModal] = useState<boolean>(false)\n  const toggleTeamsModal = () => setShowTeamsModal(!showTeamsModal)\n\n  return (\n    <>\n      <ScoreBoard/>\n      {showTeamsModal && <TeamsModal onCloseModal={toggleTeamsModal}/>}\n      <div className=\"container\">\n        <div className=\"inner-container\">\n          <CardGrid/>\n          <div className=\"side-wrapper\">\n            <div className=\"teams-summary\">\n              {teamColors.map((color: TeamColor) => <TeamSummary key={color} color={color}/>)}\n            </div>\n            <Menu>\n              <Link to=\"#\" onClick={toggleTeamsModal}>\n                  Teams\n              </Link>\n              <Link target=\"_blank\" to={`/spy-master/${getRandomInt(101)}`}>\n                  Spy Master\n              </Link>\n              <Link to=\"#\" onClick={newGame}>\n                  New Game\n              </Link>\n              <Link target=\"_blank\" to=\"/\">\n                  Rules\n              </Link>\n            </Menu>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Board\n","const getRandomInt = function(max: number): number {\n  return Math.floor(Math.random() * Math.floor(max))\n}\n\nexport {\n  getRandomInt,\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nconst randomise = (arr: any[]): any[] => arr.sort(() => 0.5 - Math.random())\n\nconst chunkify = (array: any[], chunkAmount: number): Array<Array<any>> => {\n  if (chunkAmount < 2)\n    return [array]\n\n  const len = array.length\n  const out = []\n  let i = 0, size\n\n  if (len % chunkAmount === 0) {\n    size = Math.floor(len / chunkAmount)\n    while (i < len) {\n      out.push(array.slice(i, i += size))\n    }\n  }\n\n  else {\n    while (i < len) {\n      size = Math.ceil((len - i) / chunkAmount--)\n      out.push(array.slice(i, i += size))\n    }\n  }\n\n  return out\n}\n\nexport { randomise, chunkify }\n","import React, { useState, FC } from 'react'\nimport GameContext from 'contexts/gameContext'\nimport Board from 'components/Board'\nimport { capitalizeFirstLetter } from 'utils/string-helpers'\nimport { randomise, chunkify } from 'utils/array-helpers'\nimport { CardColor, Players, TeamColor, ICard, ICardColor, IScores, ITeams } from 'interfaces/Game'\n\nconst randomiseCards = (amount: number) => randomise(\n  [...Array(280)].map((_, i) => ({ cardId: i, color: '' }))\n).slice(0, amount)\n\ninterface IProps {\n  teamColors: Array<TeamColor>\n  cardsAmount: number\n}\n\nconst Game: FC<IProps> = ({ teamColors, cardsAmount }) => {\n  const isDuetGame = teamColors.length < 2\n  const cardColors: ICardColor[] = [\n    { id: 'neutral', display: 'Neutral' },\n    { id: 'black', display: 'Game Over' },\n  ]\n  teamColors.forEach(color => cardColors.unshift({ id: color, display: capitalizeFirstLetter(color) }))\n\n  const getTeamObject = (value: string[]) => {\n    const obj: ITeams = {}\n    teamColors.forEach(color => obj[color] = value)\n    return obj\n  }\n\n  const getScoresObject = (value: | number) => {\n    const obj: IScores = {}\n    teamColors.forEach(color => obj[color] = value)\n    return obj\n  }\n\n  const [cards, setCards] = useState<ICard[]>(randomiseCards(cardsAmount))\n  const [startingTeam, setStartingTeam] = useState<TeamColor | undefined>()\n  const [teams, setTeams] = useState<ITeams>(getTeamObject([]))\n  const [score, setScore] = useState<IScores>(getScoresObject(0))\n\n  const newGame = (e: { preventDefault: () => void }) => {\n    e.preventDefault()\n    setCards(randomiseCards(cardsAmount))\n    setStartingTeam(undefined)\n  }\n\n  const setColor = (card: ICard, color: CardColor) => {\n    const newCards = [...cards]\n    newCards.forEach(c => {\n      if (card === c) c.color = color\n    })\n    setCards(newCards)\n  }\n\n  const addPlayer = (color: TeamColor, player: string) => {\n    const newTeam = [...teams[color]]\n    newTeam.push(player)\n    setTeams({\n      ...teams,\n      [color]: newTeam,\n    })\n  }\n\n  const updatePlayer = (color: TeamColor, newValue: string, index: number) => {\n    const newArray = [...teams[color]]\n    newArray[index] = newValue\n    setTeams({ ...teams, [color]: newArray })\n  }\n\n  const removePlayer = (color: TeamColor, index: number) => {\n    const newArray = [...teams[color]]\n    newArray.splice(index, 1)\n    setTeams({ ...teams, [color]: newArray })\n  }\n\n  const shuffleTeams = () => {\n    const allPlayers = teamColors.reduce((players: Players, color: TeamColor) => [...players, ...teams[color]], [])\n    const chunkedPlayers = chunkify(randomise(allPlayers), teamColors.length)\n    const newTeams: ITeams = {}\n    teamColors.forEach((color: TeamColor, index: number) => newTeams[color] = chunkedPlayers[index] || [])\n    setTeams(newTeams)\n    resetScores()\n  }\n\n  const pickSpyMasters = () => {\n    const newTeams: ITeams = {}\n    teamColors.forEach(color => {\n      newTeams[color] = randomise(teams[color])\n    })\n    setTeams(newTeams)\n  }\n\n  const scorePlayer = (color: TeamColor) => setScore({\n    ...score,\n    [color]: (score[color] + 1),\n  })\n\n  const resetScores = () => setScore(getScoresObject(0))\n  const getGuessedCardsAmount = (color: TeamColor) => cards.filter(card => card.color === color).length\n\n  return (\n    <GameContext.Provider value={{\n      cards,\n      teams,\n      startingTeam,\n      setStartingTeam,\n      score,\n      newGame,\n      setColor,\n      addPlayer,\n      updatePlayer,\n      removePlayer,\n      shuffleTeams,\n      pickSpyMasters,\n      scorePlayer,\n      getGuessedCardsAmount,\n      cardColors,\n      teamColors,\n      isDuetGame,\n    }}>\n      <Board/>\n    </GameContext.Provider>\n  )\n}\n\nexport default Game\n","const capitalizeFirstLetter = (string: string): string => {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport { capitalizeFirstLetter }\n","import React, { FC } from 'react'\nimport classNames from 'classnames'\nimport { ISpyCard, ISpyCardCell } from 'interfaces/SpyMaster'\nimport 'components/SpyCard.scss'\n\ninterface IProps {\n  card: ISpyCard\n}\n\nconst SpyCard: FC<IProps> = ({ card }) => {\n  const StartingColor = () => <div className={classNames('starting-color', card.startingColor)}/>\n\n  return <div className=\"SpyCard\">\n    <StartingColor/>\n    <div className=\"spy-grid\">\n      {card.cells.map((cell: ISpyCardCell, index: number) => (\n        <div className={`cell ${cell.color}`} key={index}/>\n      ))}\n    </div>\n    <StartingColor/>\n  </div>\n}\n\nexport default SpyCard\n","import React, { useState, useRef, useEffect, FC, FormEvent } from 'react'\nimport { RouteChildrenProps } from 'react-router-dom'\nimport SpyCard from 'components/SpyCard'\nimport { ISpyCard } from 'interfaces/SpyMaster'\nimport 'routes/SpyMaster.scss'\n\ninterface IParams {\n  spyCardId: string\n}\n\nconst SpyMaster: FC<RouteChildrenProps<IParams>> = ({ match, history }) => {\n  const [searchCardId, setSearchCardId] = useState<string>('')\n  const [card, setCard] = useState<ISpyCard>()\n  const cardIdToDisplay = match?.params.spyCardId\n  const cards = useRef([])\n\n  useEffect(() => {\n    fetchCards()\n  }, [])\n\n  useEffect(() => {\n    setCardToDisplay()\n  })\n\n  const fetchCards = async() => {\n    const response = await fetch('/codenames-pictures/spy-master-cards.json')\n    cards.current = await response.json()\n    setCardToDisplay()\n  }\n\n  const setCardToDisplay = (spyCardId = match?.params.spyCardId) => {\n    const card = cards.current.find(({ id }) => id === spyCardId)\n    setCard(card)\n  }\n\n  const changeCard = (e: FormEvent) => {\n    e.preventDefault()\n    setSearchCardId('')\n    history.push(searchCardId)\n    setCardToDisplay()\n  }\n\n  return (\n    <div className=\"SpyMaster\">\n      <div className=\"find-card-wrapper\">\n        <form onSubmit={changeCard}>\n          <label htmlFor=\"card-id\">Looking for a card?</label>\n          <input\n            id=\"card-id\"\n            className=\"input\"\n            value={searchCardId}\n            onChange={({ target: { value } }) => setSearchCardId(value)}\n            placeholder=\"Insert card id\"\n          />\n          <button className=\"btn blue\">Search</button>\n        </form>\n      </div>\n\n      <div className=\"container spy-master\">\n        {card && <><h1 className=\"title\">Spy master card: {cardIdToDisplay}</h1>\n          <SpyCard card={card}/>\n        </>}\n\n        {cards.current.length && !card &&\n          <h1 className=\"title\">Spy master card &quot;{cardIdToDisplay}&quot;<br/>does not exist you twat.</h1>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default SpyMaster\n","import React from 'react'\nimport Rules from 'routes/Rules'\nimport Game from 'routes/Game'\nimport SpyMaster from 'routes/SpyMaster'\nimport { HashRouter, Route } from 'react-router-dom'\nimport 'App.scss'\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Route exact path=\"/\" component={Rules} />\n      <Route exact path=\"/play\">\n        <Game teamColors={['red', 'blue']} cardsAmount={20}/>\n      </Route>\n      <Route exact path=\"/playDuet\">\n        <Game teamColors={['green']} cardsAmount={25}/>\n      </Route>\n      <Route exact path=\"/spy-master/:spyCardId\" component={SpyMaster} />\n    </HashRouter>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React, { StrictMode } from 'react'\nimport ReactDOM from 'react-dom'\nimport 'index.css'\nimport App from 'App'\nimport * as serviceWorker from 'serviceWorker'\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}